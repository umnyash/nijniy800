document.querySelector(".preloader")&&document.addEventListener("DOMContentLoaded",(e=>{setTimeout((()=>{enableScroll(),document.documentElement.classList.add("loaded"),document.body.classList.add("loaded")}),100)}));const mobMenu=document.querySelector(".mobile-menu"),modal=document.querySelectorAll(".pp"),modalOpenBtn=document.querySelectorAll("[data-pp]"),successModal=document.querySelector("[data-mod=pp_success]"),errorModal=document.querySelector("[data-mod=pp_error]");function disableScroll(){let e=window.innerWidth>350?window.innerWidth-document.documentElement.clientWidth+"px":0;document.querySelectorAll(".fixed-block")&&document.querySelectorAll(".fixed-block").forEach((t=>t.style.paddingRight=e)),document.body.style.paddingRight=e,document.body.classList.add("noscroll")}function enableScroll(){document.querySelectorAll(".fixed-block")&&document.querySelectorAll(".fixed-block").forEach((e=>e.style.paddingRight="0px")),document.body.style.paddingRight="0px",document.body.classList.remove("noscroll")}function openModal(e){let t=document.querySelector(".pp.show");t||mobMenu.classList.contains("active")||disableScroll(),t&&t.classList.remove("show"),e.classList.add("show")}function closeModal(e){e.classList.remove("show"),setTimeout((()=>{mobMenu.classList.contains("active")||enableScroll()}),400),e.querySelector("iframe")&&e.querySelectorAll("iframe").forEach((e=>e.setAttribute("src","")))}function setSuccessTxt(e=!1,t=!1){successModal.querySelector(".success-container__title").textContent=e||"Спасибо!",successModal.querySelector(".success-container__descr").textContent=t||""}function setErrorTxt(e=!1,t=!1){errorModal.querySelector(".success-container__title").textContent=e||"Что-то пошло не так",errorModal.querySelector(".success-container__descr").textContent=subtitle||""}function formSuccess(e){e.querySelector("label.error")&&e.querySelectorAll("label.error").forEach((e=>e.textContent="")),e.querySelectorAll("input").forEach((e=>{e.classList.remove("error"),["hidden","checkbox","radio"].includes(e.type)||(e.value=""),["checkbox","radio"].includes(e.type)&&!e.classList.contains("required")&&(e.checked=!1)})),e.querySelector("textarea")&&(e.querySelector("textarea").classList.remove("error"),e.querySelector("textarea").value=""),e.classList.contains("js-contact-form")?setSuccessTxt("Спасибо!","Ваша анкета успешно отправлена, мы свяжемся с вами"):setSuccessTxt(),openModal(successModal)}modalOpenBtn.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();let o=e.getAttribute("data-pp");openModal(document.querySelector(`[data-mod=${o}]`))}))})),modal.forEach((e=>{e.addEventListener("click",(t=>{(e.querySelector(".pp_content")&&!e.querySelector(".pp_content").contains(t.target)||e.querySelector(".pp__content")&&!e.querySelector(".pp__content").contains(t.target)||e.querySelector(".pp__close")&&e.querySelector(".pp__close").contains(t.target)||e.querySelector(".close_btn")&&e.querySelector(".close_btn").contains(t.target)||e.querySelector(".pp-cross")&&e.querySelector(".pp-cross").contains(t.target))&&closeModal(e)}))}));const header=document.querySelector(".header");function scrollPos(){return window.pageYOffset||document.documentElement.scrollTop}let lastScroll=scrollPos();window.addEventListener("scroll",(()=>{scrollPos()>1&&(scrollPos()>150&&scrollPos()>lastScroll&&!header.classList.contains("unshow")?header.classList.add("unshow"):(scrollPos()<lastScroll&&header.classList.contains("unshow")||scrollPos()<150)&&header.classList.remove("unshow")),lastScroll=scrollPos()}));const swiper1=document.querySelectorAll(".swiper-1");swiper1&&swiper1.forEach((e=>{new Swiper(e.querySelector(".swiper"),{observer:!0,observeParents:!0,grabCursor:!1,allowTouchMove:!1,effect:"fade",fadeEffect:{crossFade:!0},loop:!0,autoplay:{delay:3500,disableOnInteraction:!0},speed:1e3})}));const swiper3=document.querySelectorAll(".swiper-3");swiper3&&swiper3.forEach((e=>{new Swiper(e.querySelector(".swiper"),{observer:!0,observeParents:!0,slidesPerView:1,spaceBetween:20,centeredSlides:!1,navigation:{nextEl:e.querySelector(".swiper-button-next"),prevEl:e.querySelector(".swiper-button-prev")},breakpoints:{1799:{spaceBetween:60,slidesPerView:3},1024:{spaceBetween:40,slidesPerView:3},768:{slidesPerView:3,spaceBetween:20},480:{slidesPerView:2,spaceBetween:20}},speed:800})}));const itemPoll=document.querySelectorAll(".item-poll");itemPoll&&itemPoll.forEach((e=>{e.querySelectorAll(".item-poll__btn").forEach((t=>{t.addEventListener("click",(()=>{let t=e.querySelector(".item-poll__title").textContent,o=e.querySelector(".item-poll__modal").innerHTML;document.querySelector("[data-mod=pp_poll]").querySelector("h2").textContent=t,document.querySelector("[data-mod=pp_poll] .pp-content__text").innerHTML=o,openModal(document.querySelector("[data-mod=pp_poll]"))}))}))}));const itemSunEv=document.querySelectorAll(".sunsets-events-slide.pp_"),sunsetMod=document.querySelector("[data-mod=sunsets-modal]");itemSunEv&&sunsetMod&&itemSunEv.forEach((e=>{e.addEventListener("click",(()=>{let t=e.querySelector(".sunset-events__modContent").innerHTML;if(sunsetMod.querySelector(".eventpass-modal__content").innerHTML=t,sunsetMod.querySelector("[data-src]")){let e=sunsetMod.querySelector("[data-src]").getAttribute("data-src");sunsetMod.querySelector("[data-src]").setAttribute("src",e),sunsetMod.querySelector("[data-src]").removeAttribute("data-src")}openModal(sunsetMod)}))}));const itemPartner=document.querySelectorAll(".partners-box__item.pp_"),partnersMod=document.querySelector("[data-mod=pp-partner]");itemPartner&&partnersMod&&itemPartner.forEach((e=>{e.addEventListener("click",(()=>{let t=e.querySelector(".partners-box__modContent").innerHTML;partnersMod.querySelector(".pp-content").innerHTML=t,openModal(partnersMod)}))})),$((function(){if($(".articles .articlesNew__item").length>0){const t=$(".articles .articlesNew__item").tilt({perspective:1500});function e(){window.innerWidth<1025&&t.tilt.destroy.call(t)}e(),$(window).resize((function(){e()}))}})),$(document).on("click",".talisman-stages__tabs_item",(function(){let e=$(this),t=e.attr("data-tab");e.hasClass("active")||($(".talisman-stages__tabs_item").removeClass("active"),e.addClass("active"),$(".talisman-stages__content_item").fadeOut(300),setTimeout((()=>{$(".talisman-stages__content_item[data-tab="+t+"]").fadeIn(300)}),300))}));